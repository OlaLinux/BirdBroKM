# 9.2 vi 按鍵說明使用

## 一般指令模式: (預設模式)

### 移動游標

#### 上下左右移動

`kjhl`: 上下左右

`kjhl`  + (數字n): 上下左右 移動 n次

#### 分頁式移動
`Ctrl + f`: 螢幕『向下』移動一頁，相當於 [Page Down]按鍵

`Ctrl + b`: 螢幕『向上』移動一頁，相當於 [Page Up]按鍵

#### 在同一行移動到最前面or最後面

`0` or `Home`: 最前面

`$` or `End`: 最後面

#### 檔案第一列與最後一頁

`gg`: 第一列

`G`: 最後一列

### 搜尋

`/word`: 從游標當前之處，往下尋找第一個為 word 字串
* 例如要找 `helloworld`，透過 `/helloworld`搜尋

`?word`: 游標之上找尋word字串

`n`: 重複前一個搜尋動作

`N`: 反向重複前一個搜尋動作

* 例如原本是 `/word`，按下 `N` 會變成往前一個word做搜尋

### 取代

`:n1,n2s/word1/word2/g`: 於 n1到n2列之間找尋 `word1` 並用 `word2` 取代

* 若要在100與200行之間將helloworld取代成world: `:100,200s/helloworld/world/g`

`:1,$s/word1/word2/g`: 從頭到尾找尋word1並用word2取代

`:1,$s/word1/word2/gc`: 取代前會多確認動作

### 刪除

`x`: 往後面刪除一個字元

`X`: 往前面刪除

`nx` or `nX`: 往前面或後面刪除n個字元

`dd`: 在游標處刪除一整列

`ndd`: 在游標處往下刪除n列

### 複製

`yy`: 複製游標所在那一列

`nyy`: 複製游標所在往下n列

### 貼上

`p`: 將已經複製的資料在游標下一列貼上

`P`: 貼在上一列

`J`: 將游標所在列與下一列結合成同一列

### 復原

`u`: 復原前一個動作

`ctrl + r`: 重做上一個動作

## 一般模式進入到編輯模式的動作

### 插入模式

`i, I`: 
  * i游標所在之處插入
  * I為游標所在那一列的非空白字元插入

`a, A`: 
  * a並從游標處下一個字元開始
  * A從游標處最後一個字元開始

`o, O`: 
  * o: 目前游標所在下一列插入新的一列
  * O: 上一列插入新的一列

### 取代模式

`r, R`: 
  * r: 取代一次就結束
  * R: 一直取代直到按下ESC

## 一般指令模式切換到指令列模式

`w`: 將編輯資料寫入到硬碟

`w!`: 若檔案為唯獨，強制寫入該檔案

`w [filename]`: 另存新檔

`q`: 離開vi

`q!`: 若有修改過檔案，不儲存直接離開

`wq`: 儲存並離開

`wq!`: 強制儲存並離開

## VIM環境變更

`:set su`: 顯示行號顯示

`:set nonu`: 取消行號顯示
