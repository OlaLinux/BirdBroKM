# 9.3 vim 的進階功能

## 區塊處理

`v`: 做字元選擇， 將游標經過的地方反白，

`V`: 列選擇

`ctrl+v`: 區塊選擇，可用長方形選擇資料

`d`: 反白的地方刪除掉

`p`: 將複製的區塊，在游標所在處貼上

## 多檔案編輯

`:n`: 編輯下一個檔案

`:N`: 編輯上一個檔案

`:files`: 列出目前vim開啟的所有檔案

### 範例：hosts 內的前四列 IP 資料複製到自己的 /etc/hosts 檔案內

1. 透過『 vim hosts /etc/hosts 』指令來使用一個 vim 開啟兩個檔案

2. 在 vim 中先使用『 :files 』察看一下編輯的檔案資料有啥？結果如下所示。 至於下圖的最後一列顯示的是『按下任意鍵』就會回到 vim 的一般指令模式中！

3. vim 的多檔案編輯中，查看同時編輯的檔案資料
4. 在第一列輸入『 4yy 』複製四列；
5. 在 vim 的環境下輸入『 :n 』會來到第二個編輯的檔案，亦即 /etc/hosts 內
6. 在 /etc/hosts 下按『 G 』到最後一列，再輸入『 p 』貼上
7. 按下多次的『 u 』來還原原本的檔案資料
8. 最終按下『 :q 』來離開 vim 的多檔案編輯

## 多視窗功能

`:sp [filename]`: 開啟新視窗，多加上filename為開啟新檔案的視窗

`ctrl + w + j`: 先按著ctrl不放，按下w後 再放開其他案件，按下 j 之後游標可以移動到下方的視窗

`ctrl + w + k`: 同上，可移動到上方視窗

`ctrl + w + q`: 離開游標當前視窗

## 挑字補全

`ctrl + x` -> `ctrl + n`: 將目前正在編輯的『該檔案內容文字』作為關鍵字，並補齊
  * vim會判斷檔案中有出現過的word，做自動補齊

`ctrl + x` -> `ctrl + o`: 以當前目錄內的副檔名，判斷是哪種程式語言，並提供自動補齊

## 環境設定

### ~/.viminfo

紀錄更改過vim的行為

### ~/.vimrc

紀錄vim的設定檔案

#### 常用參數

```
:set nu  // 顯示行號
:set autoindent // 自動補齊
:set backup // 自動備份，會備份成 filename~的名稱
:syntax on // 根據程式顯示不同顏色
```